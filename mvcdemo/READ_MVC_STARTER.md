很久很久没有碰过SSM，连基本的页面写起来都生疏，今天就再总结一下：

### 一、基本概念
- MVC
```text
M -model
V -view
C - Controller
```

- SpringMVC 
    
    是基于Spring,主要用于解决Web应用问题的框架

### 二、执行流程
1. 应用启动初始化阶段:
- 初始化全局ApplicationContext,读取配置信息
    - 扫描类，扫描注解;
    - 通过DI，将相关类初始化，交给IOC容器管理;
- 初始化前端控制器
    - 获取处理器映射器，处理器适配器，视图解析器；

以上步骤有通过springall中MyApplicationContext描述

2. 请求阶段
```text
     O                                            |---------------------------|                 |----------------|
    -|-  ---------------------------------------> |DispatchServlet/前端控制器  | ------------->  | 处理器映射器    |
    / \     |-------视图渲染---------------------> | DoPost 解决Request Response|                | HandlerMapping |
   /|\      |   |-------------------------------> |----------------------------|                |----------------|
  展|示视图  |   |                                 /|\   /|\                  |                            |
    |       |   |            |---------------------|     |                   |                            |
   |----------| |            |                           |                   |                            |
   | 视图渲染  | |            |                           |                   |                            |
   |----------| |            |                           |                   |                            |
                |            |                   返回    |            请求执行|Handler                     |
                |            |               ModelAndView|                   |                            |
                |        返回|View                       |                   |                            |
                |            |                           |                   |                            |
          请求进|行视图解析    |                           |                   |                            |
                |            |                           |                   |                            |
                |            |                           |                   |                            |
               \|/           |                          \|/                 \|/                          \|/
    |---------------|        |                     |--------------------------|                |-------------------|
    | 视图解析器     |        |                     |     处理器适配器           |<-------------- | 处理器Handler      |
    | ViewResolver  | -------|                     |  adaptorMapping           |                | 这边对应Controller |
    |---------------|                              |  通过Controller中method    | -------------> | 通过扫描注解来识别  |
                                                   |  &method上的注解识别        |                |-------------------| 
                                                   |----------------------------|   
```
- 第一步，用户发起请求到前端控制器 DispatchServlet；

- 第二步，前端控制器请求处理器映射器HandlerMapping,查找Handler;

- 第三步，找到处理器映射器HandlerMapping后向前端控制器返回执行链；

- 第四步，前端控制器调用处理器适配器AdaptorMapping去执行处理器Handler；

- 第五步，处理器适配器AdaptorMapping执行处理器Handler;

- 第六步，Handler执行完给处理器适配器返回ModelAndView;

- 第七步,处理器适配器向前端控制器返回ModelAndView;

- 第八步,前端控制器请求视图解析器（ViewResolver）去进行视图解析；

- 第九步，视图解析器像前端控制器返回View；

- 第十步，前端控制器对视图进行渲染；

- 第十一步，前端控制器向用户响应结果；

### 三、组件说明
全局最重要的就是框中的几个部分：前端控制器，处理器映射器，处理器适配器，处理器，视图解析器，视图。

- 前端控制器：DiapatchServlet
    - 主要承接请求，根据传入的Request,获取Response结果。它回去调用其他组件，获取最终结果写在Response中返回。
    - 它是整个流程的控制中心。

- 处理器映射器：HandlerMapping
    - 主要在加载ApplicationContext中，加载的所有实例，通过获取他们的Annotation来识别Controller等注解，将他们识别出来作为处理器列表。

- 处理器适配器:HandlerAdaptor
    - 通过对每一个映射器进行扫描，对他们的method逐一判断，扫描他们的Annotation,解析出对应的URL 和入参，匹配参数

- 处理器：Handler
    - 每一个Handler就是对应适配器识别出来的方法了，调用它就可以将Request当中的参数传给对应的方法，获取处理结果。

- 视图解析器：ViewResolver
    - 扫描静态文件或者前端展示文件，将其名字和所在位置缓存起来，用于控制器返回时的需要。

- 视图：View
    - 视图是一个接口，实现类支持不同的View类型（jsp、freemarker...)
    
    
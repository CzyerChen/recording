### 1.什么是领域设计模型
### 2.什么是CQRS/ES架构
### 3.什么是微服务架构


### 5.描述一下你所参与过的微服务架构与设计原理
网关集群+Eureka集群+服务集群+数据库读写分离+Nosql集群服务
Spring Cloud Netflix框架的开源组件，主要包括Zuul（服务网关）、Eureka（服务注册与发现）、Hystrix（服务容错）、Ribbon（客户端负载均衡）


- 结合Springboot 和SpringCloud的实现，结合docker容器化技术，devOps技术，完成一套完整的微服务系统
- Zuul网关 + Hytrix断路器 + Eureka注册中心

client端进来，先通过负载均衡服务器，Nginx控制请求的转发和负载，到达服务网关

#### 服务网关 Getway Zuul
1.动态路由，动态的将请求路由到所需要的后端服务集群，网关屏蔽了后端服务的复杂性

2.限流和容错：为每种类型的请求分配容量，当请求数量超过阀值时抛掉外部请求，限制流量，保护后台服务不被大流量冲垮，集中做容错处理，而不是将请求转发到内部集群，保证用户良好的体验

3.身份认证和安全性控制：对每个外部请求进行用户认证，拒绝没有通过认证的请求，还能通过访问模式分析，实现反爬虫功能

4.监控：网关可以收集有意义的数据和统计，为后台服务优化提供数据支持

5.访问日志：网关可以收集访问日志信息

Spring Cloud Netflix框架的开源组件Zuul来实现网关服务。Zuul使用一系列不同类型的过滤器（Filter），通过重写过滤器，使我们能够灵活的实现网关（GateWay）的各种功能

#### 服务的注册与发现 --Eureka Consul
服务的提供方要注册报告服务地址，服务调用放要能发现目标服务
Eureka默认配置是30秒发送一次心跳，表明服务仍然处于存活状态，发送心跳的时间间隔可以通过Eureka的配置参数自行配置，Eureka服务器在接收到服务实例的最后一次心跳后，需要等待90秒（默认配置90秒，可以通过配置参数进行修改）后，
才认定服务已经死亡（即连续3次没有接收到心跳），在Eureka自我保护模式关闭的情况下会清除该服务的注册信

#### 微服务部署
拆分为独立的服务单元，伸缩性好，耦合度低
微服务可以划分为前端服务（也叫边缘服务）和后端服务（也叫中间服务），前端服务是对后端服务做必要的聚合和剪裁后暴露给外部不同的设备
所有的服务启动时都会到Eureka服务器进行注册，服务之间会有错综复杂的依赖关系
微服务以镜像的形式，运行在Docker容器中。Docker容器技术让我们的服务部署变得简单、高效

#### 服务容错 Hytrix
通过熔断模式、隔离模式、回退（fallback）和限流等机制对服务进行弹性容错保护，保证系统的稳定性

1.熔断模式：熔断模式原理类似于电路熔断器，当电路发生短路时，熔断器熔断，保护电路避免遭受灾难性损失。当服务异常或者大量延时，满足熔断条件时服务调用方会主动启动熔断，
执行fallback逻辑直接返回，不会继续调用服务进一步拖垮系统。熔断器默认配置服务调用错误率阀值为50%，超过阀值将自动启动熔断模式

2.隔离模式：Hystrix默认采用线程隔离，不同的服务使用不同的线程池，彼此之间不受影响，当一个服务出现故障耗尽它的线程池资源，其他的服务正常运行不受影响，达到隔离的效果

3.回退（fallback）：fallback机制其实是一种服务故障时的容错方式，原理类似Java中的异常处理。只需要继承HystixCommand并重写getFallBack()方法，在此方法中编写处理逻辑，比如可以直接抛异常（快速失败），可以返回空值或缺省值，也可以返回备份数据等

4.限流： 限流是指对服务的并发访问量进行限制，设置单位时间内的并发数，超出限制的请求拒绝并fallback，防止后台服务被冲垮

#### 动态配置中心  - Spring Cloud Config
根据访问流量动态调整熔断阀值

### 6.登录模块的设计思路

### 7.spring security 
### 8.shiro